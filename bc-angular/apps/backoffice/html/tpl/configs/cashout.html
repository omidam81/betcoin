<div ng-controller="CashoutLimitController">
    <h3>Today's totals</h3>
    <div class="row">
        <div class="col-md-2"
             ng-repeat="total in totals">
            <dl>
                <dt>Currency</dt><dd>{{total._id}}</dd>
                <dt>Total</dt><dd>{{total._id | cryptosymbol}} {{total.total | cryptovalue}}</dd>
                <dt>Count</dt><dd>{{total.count | number}}</dd>
            </dl>
        </div>
    </div>
    <div class="row">
        <div ng-repeat="config in options"
             ng-init="currency = config._id.replace('CashoutLimits', '')"
             class="col-md-2">
            <h3>{{currency}}</h3>
            <form class="form">
                <div class="form-group">
                    <label>Total</label>
                    <crypto-input model="config.value.total"
                                  currency="currency"
                                  class="input-group"></crypto-input>
                </div>
                <div class="form-group">
                    <label>Count</label>
                    <input type="number"
                           ng-model="config.value.count"
                           class="form-control">
                </div>
                <div class="form-group">
                    <button class="btn btn-primary"
                            ng-click="updateLimit(config)">Update</button>
                </div>
            </form>
        </div>
    </div>
</div>
